<%- include('../layouts/userHeader.ejs') %>
<div class="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 md:p-8">
  <div class="max-w-7xl mx-auto">
      <h1 class="text-3xl font-bold text-slate-800 text-center mb-8">Current Coupons</h1>
      
      <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
          <% if(coupons.length > 0) { %>
              <% coupons.forEach((coupon) => { %>
                  <div class="bg-white rounded-lg shadow-lg overflow-hidden border border-slate-200">
                      <!-- Header -->
                      <div class="bg-slate-800 p-4 text-center">
                          <h2 class="text-xl font-semibold text-white">Special Discount</h2>
                          <p class="text-slate-300 text-sm mt-1">Limited Time Offer</p>
                      </div>

                      <!-- Coupon Code -->
                      <div class="px-4 py-3 bg-slate-50 border-y border-slate-200">
                          <div class="flex items-center justify-between">
                              <span class="text-sm text-slate-600">Coupon Code:</span>
                              <span class="font-mono text-lg font-bold text-slate-800"><%= coupon.couponCode %></span>
                          </div>
                      </div>

                      <!-- Details -->
                      <div class="p-4 space-y-4">
                          <!-- Discount Info -->
                          <div class="flex justify-between items-center">
                              <div class="text-left">
                                  <p class="text-sm text-slate-600">Discount</p>
                                  <% if(coupon.discountType == 'Percentage') { %>
                                      <p class="text-lg font-bold text-slate-800"><%= coupon.discountValue %>% Off</p>
                                  <% } else { %>
                                      <p class="text-lg font-bold text-slate-800">₹<%= coupon.discountValue %> Off</p>
                                  <% } %>
                              </div>
                              <div class="text-right">
                                  <p class="text-sm text-slate-600">Min. Order</p>
                                  <p class="text-lg font-bold text-slate-800">₹<%= coupon.minimumOrderAmount %></p>
                              </div>
                          </div>

                          <!-- Dates -->
                          <div class="pt-3 border-t border-slate-200">
                              <div class="flex justify-between text-sm">
                                  <div>
                                      <p class="text-slate-600">Valid From</p>
                                      <p class="font-medium text-slate-800"><%= new Date(coupon.startDate).toLocaleDateString('en-GB') %></p>
                                  </div>
                                  <div class="text-right">
                                      <p class="text-slate-600">Valid Until</p>
                                      <p class="font-medium text-slate-800"><%= new Date(coupon.endDate).toLocaleDateString('en-GB') %></p>
                                  </div>
                              </div>
                          </div>

                          <!-- Usage -->
                          <div class="pt-3 border-t border-slate-200">
                              <p class="text-center text-sm text-slate-600">
                                  Limited to <span class="font-semibold text-slate-800"><%= coupon.usageCount %></span> uses
                              </p>
                          </div>
                      </div>
                  </div>
              <% }) %>
          <% } else { %>
              <div class="col-span-full text-center py-12">
                  <p class="text-xl text-slate-600">No active coupons available at this time</p>
              </div>
          <% } %>
      </div>
  </div>
</div>
<%- include('../layouts/userFooter.ejs') %>