<%- include('../layouts/userHeader.ejs') %>
<div class="w-full md:w-3/4 bg-gray-800  p-6">
    <h1 class="text-3xl text-white font-bold text-center mb-6">Available Coupons</h1>
    
    <!-- Responsive Coupon Grid -->
    <div class="grid gap-6 grid-cols-1  sm:grid-cols-2 lg:grid-cols-3">
      <!-- Coupon Card 1 -->
     
      <% if( coupons.length > 0){ %>
        <% coupons.forEach((coupon)=>{ %>
      <!-- Coupon Card 2 (Example of another card) -->
      <div class="max-w-sm mx-auto p-4 bg-gradient-to-r from-green-500 to-gray-900 rounded-lg shadow-md text-white space-y-4 transition-transform transform hover:scale-105 duration-300">
        <!-- Coupon Header -->
        <div class="text-center">
          <h2 class="text-2xl font-bold">Exclusive Purchase Deal</h2>
          <p class="text-sm">Use the code below to get your discount</p>
        </div>
      
        <!-- Coupon Code -->
        <div class="bg-gray-900 py-2 rounded-lg text-center tracking-widest text-lg font-semibold">
          <p class="uppercase"><%= coupon.couponCode %></p>
        </div>
      
        <!-- Discount & Minimum Order Info -->
        <div class="grid grid-cols-2 gap-4 text-center">
          <div>
            <% if(coupon.discountType == 'Percentage'){ %>
            <h3 class="text-lg font-bold"><%= coupon.discountValue %>%</h3>
            <p class="text-xs">Discount</p>
            <% }else{ %>
            <h3 class="text-lg font-bold">Rs. <%= coupon.discountValue %></h3>
            <p class="text-xs">Discount amount</p>
            <% }%>

          </div>
          <div>
            <h3 class="text-lg font-bold"><%= coupon.minimumOrderAmount %></h3>
            <p class="text-xs">Min. Order Amount</p>
          </div>
        </div>
      
        <!-- Dates -->
        <div class="grid grid-cols-2 gap-4 text-center">
          <div>
            <h3 class="text-sm">Start Date</h3>
            <p class="text-md font-semibold"><%= new Date(coupon.startDate).toLocaleDateString('en-GB') %></p>
          </div>
          <div>
            <h3 class="text-sm">Expiry Date</h3>
            <p class="text-md font-semibold"><%= new Date(coupon.endDate).toLocaleDateString('en-GB') %></p>
          </div>
        </div>
      
        <!-- Usage Count -->
        <div class="text-center">
          <p class="text-sm">Usage limit: <span class="font-bold"><%= coupon.usageCount  %></span></p>
        </div>
      
      </div>
      <% }) %>
      <% }else{ %>

        <h1 class="text-3xl text-white font-bold text-center mb-6">No Coupons availble</h1>

        <% } %>
      

      <!-- Add more coupon cards dynamically here -->
    </div>
</div>
</div>

<%- include('../layouts/userFooter.ejs') %>