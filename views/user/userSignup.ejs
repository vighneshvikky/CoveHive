<%- include('../layouts/header.ejs') %>

<div class="min-h-screen bg-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full space-y-8">
    <div>
      <h2 class="mt-6 text-center text-3xl font-extrabold text-white">Create an Account</h2>
      <p class="mt-2 text-center text-sm text-gray-400">
        Sign up to explore the latest leather phone cases on <span class="font-bold text-white">CoveHive</span>
      </p>
    </div>
      
    <form id="signup-form" class="mt-8 space-y-6" action="/register" method="POST" onsubmit="return validateForm()">
      <div class="rounded-md shadow-sm -space-y-px">
          <!-- Full Name -->
          <div>
              <label for="fullname" class="sr-only">Full Name</label>
              <input id="fullname" name="fullname" type="text" class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-white bg-gray-900 rounded-t-md focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm" placeholder="Full Name">
              <span id="fullname-error" class="text-red-400 text-sm"></span>
          </div>
  
          <!-- Email -->
          <div>
              <label for="email" class="sr-only">Email address</label>
              <input id="email" name="email" type="email" class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-white bg-gray-900 focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm" placeholder="Email address">
              <span id="email-error" class="text-red-400 text-sm"></span>
          </div>
  
          <!-- Phone -->
          <div>
              <label for="phone" class="sr-only">Phone</label>
              <input id="phone" name="phone" type="tel" class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-300 bg-gray-900 focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm" placeholder="Phone Number">
              <span id="phone-error" class="text-red-400 text-sm"></span>
          </div>
  
          <!-- Password -->
          <div>
              <label for="password" class="sr-only">Password</label>
              <input id="password" name="password" type="password" autocomplete="current-password" class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-white bg-gray-900 focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm" placeholder="Password">
              <span id="password-error" class="text-red-400 text-sm"></span>
          </div>
  
          <!-- Confirm Password -->
          <div>
              <label for="confirm_password" class="sr-only">Confirm Password</label>
              <input id="confirm_password" name="confirm_password" type="password" class="appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-white bg-gray-900 rounded-b-md focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm" placeholder="Confirm Password">
              <span id="confirm-password-error" class="text-red-400 text-sm"></span>
          </div>
      </div>

      <div>
          <button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-white hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">Sign Up</button>
      </div>
  </form>
    <p class="mt-2 text-center text-sm text-gray-400">
      Already have an account? <a href="/login" class="font-medium text-white hover:text-gray-300">Log In</a>
    </p>

    <!-- Centered Google Sign-In Button -->
    <div class="text-center mt-4">
      <a href="/auth/google" class="bg-white border border-gray-300 text-gray-900 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 inline-flex items-center dark:focus:ring-gray-700 dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:hover:bg-gray-700">
        <img src="categoryImages/googleimage.png" class="w-5 h-5 mr-2" alt="Google icon" />
        Sign in with Google
      </a>
    </div>
  </div>

</div>



<%- include('../layouts/footer.ejs') %>


<script>
  function validateForm() {
    let isValid = true;
  console.log('hahi');
  
    // Full Name Validation
    const fullName = document.getElementById("fullname").value;
    const nameRegex = /^[A-Za-z]{4,}$/;
    const fullNameError = document.getElementById("fullname-error");
    if (!nameRegex.test(fullName)) {
        fullNameError.textContent = "Name must be at least 4 characters.";
        isValid = false;
    } else {
        fullNameError.textContent = "";
    }

    // Email Validation (optional: built-in HTML5 validation handles this well)
    const email = document.getElementById("email").value;
    const emailError = document.getElementById("email-error");
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email) {
      emailError.textContent = "Email is required.";
    } else if (!emailRegex.test(email)) {
      emailError.textContent = "Please enter a valid email address.";
    } else {
      emailError.textContent = "";
    }
    // Phone Validation (you can add custom regex if needed)
    const phone = document.getElementById("phone").value;
    const PhoneError = document.getElementById("phone-error");
    const phoneRegex = /^\d{10}$/; // Adjust based on required phone format
    if (!phone) {
      PhoneError.textContent = "Phone number is required.";
      isValid = false
    } else if (!phoneRegex.test(phone)) {
      PhoneError.textContent = "Please enter a valid 10-digit phone number.";
      isVali=false
    } else {
      PhoneError  .textContent = "";
    }
    // Password Validation
    const password = document.getElementById("password").value;
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,}$/;
    const passwordError = document.getElementById("password-error");
    if (!passwordRegex.test(password)) {
        passwordError.textContent = "Password must be at least 8 characters with uppercase, lowercase, a number, and a special character.";
        isValid = false;
    } else {
        passwordError.textContent = "";
    }

    // Confirm Password Validation
    const confirmPassword = document.getElementById("confirm_password").value;
    const confirmPasswordError = document.getElementById("confirm-password-error");
    if (password !== confirmPassword) {
        confirmPasswordError.textContent = "Passwords do not match.";
        isValid = false;
    } else {
        confirmPasswordError.textContent = "";
    }

    return isValid; // If isValid is true, form will be submitted; if false, submission is prevented
}
 
</script>
