<%- include('../layouts/header') %>
<nav class="bg-[#f7f7f8] h-screen fixed top-0 left-0 min-w-[250px] py-6 px-4 font-[sans-serif]">
  
    <p class="ml-8 text-3xl">CoveHive</p>

    <div class="overflow-auto py-6 h-full mt-4">
      <ul class="space-y-1">
        <li>
          <a href="javascript:void(0)"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 512 512">
            </svg>
            <span>Dashboard</span>
          </a>
        </li>
        <li>
          <a href="/admin/customers"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 512 512">
            </svg>
            <span>Customers</span>
          </a>
        </li>
        <li>
          <a href="/admin/products"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 24 24">
            </svg>
            <span>Products</span>
          </a>
        </li>
        <li>
          <a href="/admin/addProducts"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all ">
              <g fill-opacity=".9">
              </g>
            </svg>
            <span class="ml-8">Add products</span>
          </a>
        </li>
    
        <li>
          <a href="/admin/coupons"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 512.003 512.003">
            </svg>
            <span>Coupons</span>
          </a>
        </li>
          <a href="/admin/orders"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 512.003 512.003">
            </svg>
            <span>Orders</span>
          </a>
        </li>
        <li>
          <a href="/admin/banners"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 511.877 511.877">
            </svg>
            <span>Banners</span>
          </a>
        </li>
        <li>
          <a href="/admin/offers"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 193.769 193.769">
            </svg>
            <span>Offers</span>
          </a>
        </li>
        <li>
          <a href="/admin/categories"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 512 512">
            </svg>
            <span>Categories</span>
          </a>
        </li>
        <li>
          <a href="/admin/logout"
            class="text-black hover:text-blue-600 text-[15px] flex items-center hover:bg-white rounded px-4 py-3 transition-all">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-[18px] h-[18px] mr-4"
              viewBox="0 0 6.35 6.35">
            </svg>
            <span>Logout</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="font-[sans-serif] overflow-x-auto">
    <table class="min-w-full bg-white">
      <thead class="bg-gray-800 whitespace-nowrap">
        <tr>
          <th class="p-4 text-left text-sm font-medium text-white">
            SL
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Name
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Email
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Phone
          </th>
           <th class="p-4 text-left text-sm font-medium text-white">
            Action
          </th>
        </tr>
      </thead>

      <tbody class="whitespace-nowrap">
           <% 
  if (users.length > 0) {
      for (let i = 0; i < users.length; i++) {
  %>
      
  
        <tr class="even:bg-blue-50">
          <td class="p-4 text-sm text-black">
           <%= i + 1 %>
          </td>
          <td class="p-4 text-sm text-black">
          <%= users[i].fullName %>
          </td>
          <td class="p-4 text-sm text-black">
            <%= users[i].email %>
          </td>
          <td class="p-4 text-sm text-black">
           <%= users[i].phone%>
          </td>
          <td class="p-4">
              <form action="/admin/toggle-block-user/<%= users[i]._id %>" method="POST" style="display:inline;">
                  <input type="hidden" name="is_blocked" value="<%= users[i].is_blocked %>" />
                  <button type="submit" class="<%= users[i].is_blocked ? 'bg-green-500 text-white' : 'bg-red-500 text-white' %> px-4 py-2 rounded">
                <%= users[i].is_blocked ? 'Unblock' : 'Block' %>
                  </button>

              </form>
          
          </td>
        </tr>
         <% 
      }
  } else {
  %>
  <tr>
      <td colspan="6" class="px-4 py-2 text-center text-gray-500">User Not Found</td>
  </tr>
  <% } %>
        </tbody>
    </table>
  </div>
<%- include('../layouts/footer') %>

<style>
    .bg-primary-color {
        background-color: #3c096c;
    }
    .bg-accent-color {
        background-color: #ff9f1c;
    }
    .bg-accent-color-dark {
        background-color: #e07a00;
    }
</style>
