<%- include('../layouts/header.ejs') %>
<div class="font-[sans-serif] bg-[url(https://img.freepik.com/free-vector/geometric-gradient-futuristic-background_23-2149116406.jpg)] bg-cover bg-center h-100% w-full">
  <div class="min-h-screen flex flex-col items-center justify-center">
    <div class="flex items-center justify-center min-h-screen bg-transparent p-4">
      <div class="grid items-center gap-4 max-md:gap-8 max-w-3xl w-screen p-8 m-8 shadow-[0_2px_10px_-3px_rgba(6,81,237,0.3)] rounded-md">
        <div class="md:max-w-lg w-full md:ml-16 px-8 py-8">
          <form action="/admin/login" method="post" class="myForm">
            <div class="mb-12">
              <h3 class="text-white text-3xl font-extrabold">Admin Sign in</h3>
            </div>

            <div>
              <label class="text-white text-xs block mb-2">Email</label>
              <input type="email" name="email" id="email" value="admin@gmail.com" required placeholder="Enter email" class="w-full text-gray-800 text-sm border-b border-gray-300 focus:border-blue-600 px-4 py-3 outline-none rounded-xl">
              <small id="emailError" class="text-red-500 hidden"></small>
            </div>

            <div class="mt-8">
              <label class="text-white text-xs block mb-2">Password</label>
              <input type="password" value="Vig@1234" name="password" id="password" required placeholder="Enter password" class="w-full text-gray-800 text-sm border-b border-gray-300 focus:border-blue-600 px-4 py-3 outline-none rounded-xl">
              <small id="passwordError" class="text-red-500 hidden"></small>
            </div>

            <!-- ... rest of the form remains unchanged ... -->

            <div class="mt-12">
              <button type="submit" class="w-full shadow-xl py-3 px-6 text-sm tracking-wide rounded-md text-white bg-[#457b9d] hover:bg-[#00b4d8] focus:outline-none">Login</button>
            </div>
          </form>
          <p id="message" class="text-red-500 text-sm font-medium mb-6 mx-auto px-4 py-2 rounded-lg text-center">
            <%= locals.message %>
          </p>
          
        </div>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');

  function validateEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }

  function validatePassword(password) {
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
    return passwordRegex.test(password);
  }

  function checkValidation() {
    let isValid = true;
    let emailValid = validateEmail(emailInput.value);
    let passwordValid = validatePassword(passwordInput.value);

    if (!emailValid) {
      document.getElementById('emailError').textContent = "Please enter a valid email address.";
      document.getElementById('emailError').classList.remove('hidden');
    } else {
      document.getElementById('emailError').classList.add('hidden');
    }

    if (!passwordValid) {
      document.getElementById('passwordError').textContent = "Password must contain uppercase, lowercase, a digit, and a special character, minimum 8 characters.";
      document.getElementById('passwordError').classList.remove('hidden');
    } else {
      document.getElementById('passwordError').classList.add('hidden');
    }

    return isValid && emailValid && passwordValid;
  }

  emailInput.addEventListener('input', function() {
    checkValidation();
  });

  passwordInput.addEventListener('input', function() {
    checkValidation();
  });
});
</script>

<%- include('../layouts/footer.ejs') %>

